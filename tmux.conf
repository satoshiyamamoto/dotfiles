# ~/.tmux.conf

foreground='default'
background='default'
inactiveBackground='#30363c'
cyan='#0071f3'
white='#cbdae6'
kube_context="#(/bin/bash $HOME/.tmux/plugins/kube-tmux/kube.tmux 250)"

# Prefix
set -g prefix C-t

# Basic setting
set -g mouse on
set -g mode-keys vi
set -g history-limit 10000
set -g default-terminal "tmux-256color"
set -as terminal-overrides ',xterm-256color-italic:RGB'
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'

# Appearance
set -g status on
set -g status-style "fg=${foreground},bg=${background},dim"
set -g status-justify "absolute-centre"
set -g status-left "#[fg=${white},bg=${cyan}] #S "
set -g status-right " ${kube_context}  #{battery_percentage} %l:%M %p "
set -g mode-style "fg=${white},bg=${cyan}"
set -g message-style "fg=${white},bg=${cyan}"
set -g pane-active-border-style "fg=${foreground}"
set -g pane-border-style "fg=${inactiveBackground}"

# Keybind
bind S setw synchronize-panes
bind r source-file ~/.tmux.conf \; display-message 'tmux.conf reloaded'
bind / copy-mode \; send-key ?
bind -T copy-mode-vi 'v' send -X begin-selection
bind -T copy-mode-vi 'y' send -X copy-pipe-and-cancel "pbcopy"

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-pain-control'
set -g @plugin 'tmux-plugins/tmux-battery'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'jonmosco/kube-tmux'

# Initialize TMUX plugin manager
run '~/.tmux/plugins/tpm/tpm'

